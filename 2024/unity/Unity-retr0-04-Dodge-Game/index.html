<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>[Unity] 닷지 게임 - 플레이어 | Sangjjangit</title>
<meta name="generator" content="Jekyll v4.3.4" />
<meta property="og:title" content="[Unity] 닷지 게임 - 플레이어" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="유니티의 닷지 게임을 만들며 익히기" />
<meta property="og:description" content="유니티의 닷지 게임을 만들며 익히기" />
<link rel="canonical" href="/2024/unity/Unity-retr0-04-Dodge-Game/" />
<meta property="og:url" content="/2024/unity/Unity-retr0-04-Dodge-Game/" />
<meta property="og:site_name" content="Sangjjangit" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2024-09-26T12:15:00+00:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="[Unity] 닷지 게임 - 플레이어" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2024-09-26T12:15:00+00:00","datePublished":"2024-09-26T12:15:00+00:00","description":"유니티의 닷지 게임을 만들며 익히기","headline":"[Unity] 닷지 게임 - 플레이어","mainEntityOfPage":{"@type":"WebPage","@id":"/2024/unity/Unity-retr0-04-Dodge-Game/"},"url":"/2024/unity/Unity-retr0-04-Dodge-Game/"}</script>
<!-- End Jekyll SEO tag -->

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sangjjangit</title>
    <link rel="stylesheet" href="/assets/css/style.css">
    <link rel="stylesheet" href="/assets/css/nav-menu.css">
    <link rel="stylesheet" href="/assets/css/md2.css">
    <link rel="stylesheet" href="/assets/css/post-list.css">
    <link rel="stylesheet" href="/assets/css/syntax.css">
    <!-- <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/default.min.css">
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.min.js"></script>
    <script>hljs.highlightAll();</script> -->
    <meta name="google-site-verification" content="hOqiLm-b8Xc-VENt1dN1OpAvI2gWGwlr6lcboTsAJVg" />
    
</head>
<body>
<header>
    <h1>
        <a href="/">Sangjjangit</a>
    </h1>
    <small>요약/실습</small>
<!--    <p>summy reading books</p>-->
    <nav>
        <ul class="nav-menu">
            
            <li><a href="/">All</a></li>
            
            <li><a href="/category/Unity/">Unity</a></li>
            
            <li><a href="/category/Blender/">Blender</a></li>
            
        </ul>
    </nav>
</header>

<main>
    <article>
    <h1>[Unity] 닷지 게임 - 플레이어</h1>
    <p><em>Posted on 2024-09-26 12:15:00</em></p>
    <div>
        <h3 id="닷지-게임">닷지 게임</h3>

<ul>
  <li>예제소스 : <a href="https://github.com/IJEMIN/Unity-Programming-Essence-2021">https://github.com/IJEMIN/Unity-Programming-Essence-2021</a></li>
  <li>
    <p>예제번호 : 06, 07, 08</p>
  </li>
  <li>1차코드
    <div class="language-c# highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">using</span> <span class="nn">System.Collections</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Collections.Generic</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">UnityEngine</span><span class="p">;</span>
<span class="cm">/**/</span>
<span class="k">public</span> <span class="k">class</span> <span class="nc">PlayerController</span> <span class="p">:</span> <span class="n">MonoBehaviour</span>
<span class="p">{</span>
  <span class="k">public</span> <span class="n">Rigidbody</span> <span class="n">playerRigidbody</span><span class="p">;</span> <span class="c1">// 이동에 사용할 리지드바디 컴포넌트</span>
  <span class="k">public</span> <span class="kt">float</span> <span class="n">speed</span> <span class="p">=</span> <span class="m">8f</span><span class="p">;</span> <span class="c1">// 이동속도</span>

  <span class="c1">// Start is called before the first frame update</span>
  <span class="k">void</span> <span class="nf">Start</span><span class="p">()</span>
  <span class="p">{</span>
        
  <span class="p">}</span>

  <span class="c1">// Update is called once per frame</span>
  <span class="k">void</span> <span class="nf">Update</span><span class="p">()</span>
  <span class="p">{</span>
      <span class="k">if</span><span class="p">(</span><span class="n">Input</span><span class="p">.</span><span class="nf">GetKey</span><span class="p">(</span><span class="n">KeyCode</span><span class="p">.</span><span class="n">UpArrow</span><span class="p">)</span> <span class="p">==</span> <span class="k">true</span><span class="p">){</span>
          <span class="c1">// 위쪽 z 방향</span>
          <span class="n">playerRigidbody</span><span class="p">.</span><span class="nf">AddForce</span><span class="p">(</span><span class="m">0f</span><span class="p">,</span> <span class="m">0f</span><span class="p">,</span> <span class="n">speed</span><span class="p">);</span>
      <span class="p">}</span>
      <span class="k">if</span><span class="p">(</span><span class="n">Input</span><span class="p">.</span><span class="nf">GetKey</span><span class="p">(</span><span class="n">KeyCode</span><span class="p">.</span><span class="n">DownArrow</span><span class="p">)</span> <span class="p">==</span> <span class="k">true</span><span class="p">){</span>
          <span class="c1">// 위쪽 -z 방향</span>
          <span class="n">playerRigidbody</span><span class="p">.</span><span class="nf">AddForce</span><span class="p">(</span><span class="m">0f</span><span class="p">,</span> <span class="m">0f</span><span class="p">,</span> <span class="p">-</span><span class="n">speed</span><span class="p">);</span>
      <span class="p">}</span>
      <span class="k">if</span><span class="p">(</span><span class="n">Input</span><span class="p">.</span><span class="nf">GetKey</span><span class="p">(</span><span class="n">KeyCode</span><span class="p">.</span><span class="n">RightArrow</span><span class="p">)</span> <span class="p">==</span> <span class="k">true</span><span class="p">){</span>
          <span class="c1">// 위쪽 x 방향</span>
          <span class="n">playerRigidbody</span><span class="p">.</span><span class="nf">AddForce</span><span class="p">(</span><span class="n">speed</span><span class="p">,</span> <span class="m">0f</span><span class="p">,</span> <span class="m">0f</span><span class="p">);</span>
      <span class="p">}</span>
      <span class="k">if</span><span class="p">(</span><span class="n">Input</span><span class="p">.</span><span class="nf">GetKey</span><span class="p">(</span><span class="n">KeyCode</span><span class="p">.</span><span class="n">LeftArrow</span><span class="p">)</span> <span class="p">==</span> <span class="k">true</span><span class="p">){</span>
          <span class="c1">// 위쪽 -x 방향</span>
          <span class="n">playerRigidbody</span><span class="p">.</span><span class="nf">AddForce</span><span class="p">(-</span><span class="n">speed</span><span class="p">,</span> <span class="m">0f</span><span class="p">,</span> <span class="m">0f</span><span class="p">);</span>
      <span class="p">}</span>
  <span class="p">}</span>

  <span class="k">public</span> <span class="k">void</span> <span class="nf">Die</span><span class="p">(){</span>
      <span class="c1">// 자신의 오브젝트 비활성화</span>
      <span class="n">gameObject</span><span class="p">.</span><span class="nf">SetActive</span><span class="p">(</span><span class="k">false</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>    </div>
  </li>
  <li>스크립트 개선하기
    <ul>
      <li>조작이 게임에 즉시 반영되지 않는다.</li>
      <li>입력 감지 코드가 복잡하다</li>
      <li>playerRigidbody에 컴포넌트를 드래그&amp;드롭으로 할당한다.</li>
    </ul>
  </li>
  <li>2차코드
    <div class="language-c# highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">using</span> <span class="nn">System.Collections</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Collections.Generic</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">UnityEngine</span><span class="p">;</span>
<span class="cm">/**/</span>
<span class="k">public</span> <span class="k">class</span> <span class="nc">PlayerController</span> <span class="p">:</span> <span class="n">MonoBehaviour</span>
<span class="p">{</span>
  <span class="k">private</span> <span class="n">Rigidbody</span> <span class="n">playerRigidbody</span><span class="p">;</span> <span class="c1">// 이동에 사용할 리지드바디 컴포넌트</span>
  <span class="k">public</span> <span class="kt">float</span> <span class="n">speed</span> <span class="p">=</span> <span class="m">8f</span><span class="p">;</span> <span class="c1">// 이동속도</span>

  <span class="c1">// Start is called before the first frame update</span>
  <span class="k">void</span> <span class="nf">Start</span><span class="p">()</span>
  <span class="p">{</span>
      <span class="n">playerRigidbody</span> <span class="p">=</span> <span class="n">GetComponent</span><span class="p">&lt;</span><span class="n">Rigidbody</span><span class="p">&gt;();</span>
  <span class="p">}</span>

  <span class="c1">// Update is called once per frame</span>
  <span class="k">void</span> <span class="nf">Update</span><span class="p">()</span>
  <span class="p">{</span>
      <span class="c1">// 수평축, 수직축의 입력값 감지(-1.0, 0, 1.0)</span>
      <span class="kt">float</span> <span class="n">xInput</span> <span class="p">=</span> <span class="n">Input</span><span class="p">.</span><span class="nf">GetAxis</span><span class="p">(</span><span class="s">"Horizontal"</span><span class="p">);</span>
      <span class="kt">float</span> <span class="n">zInput</span> <span class="p">=</span> <span class="n">Input</span><span class="p">.</span><span class="nf">GetAxis</span><span class="p">(</span><span class="s">"Vertical"</span><span class="p">);</span>

      <span class="c1">// 실제 이동 속도를 입력값과 이동속도를 사용해서 결정</span>
      <span class="kt">float</span> <span class="n">xSpeed</span> <span class="p">=</span> <span class="n">xInput</span> <span class="p">*</span> <span class="n">speed</span><span class="p">;</span>
      <span class="kt">float</span> <span class="n">zSpeed</span> <span class="p">=</span> <span class="n">zInput</span> <span class="p">*</span> <span class="n">speed</span><span class="p">;</span>

      <span class="c1">// Vector3 속도를 생성</span>
      <span class="n">Vector3</span> <span class="n">newVelocity</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Vector3</span><span class="p">(</span><span class="n">xSpeed</span><span class="p">,</span> <span class="m">0f</span><span class="p">,</span> <span class="n">zSpeed</span><span class="p">);</span>

      <span class="c1">// 리지드바디의 속도에 할당</span>
      <span class="n">playerRigidbody</span><span class="p">.</span><span class="n">velocity</span> <span class="p">=</span> <span class="n">newVelocity</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="k">public</span> <span class="k">void</span> <span class="nf">Die</span><span class="p">(){</span>
      <span class="c1">// 자신의 오브젝트 비활성화</span>
      <span class="n">gameObject</span><span class="p">.</span><span class="nf">SetActive</span><span class="p">(</span><span class="k">false</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>    </div>
  </li>
  <li>입력 매니저
특정 키에 직접 이벤트를 줄 경우, 단축키를 변경시, 소스 수정은 불가피하다.
입력 이름을 통해서 동작하게 한다.
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>if([마우스 왼쪽 버튼] 클릭) {
  // 총 발사
}
if("발사"에 대응되는 버튼을 클릭) {
  // 총 발사
}
</code></pre></div>    </div>
  </li>
  <li>입력 매너저 설정 창
    <ul>
      <li>유니티 에디터 메뉴 &gt; Edit &gt; Project Settings</li>
      <li>Project Seetings &gt; Input Manager</li>
    </ul>
  </li>
</ul>

<hr />

    </div>
    
    <div class="back-to-home">
        <!-- <a href="/">Back to Home</a> -->
        <a href="javascript:window.history.back();">Back to Previous Page</a>
    </div>
</article>
</main>

<footer>
    <p>&copy; 2024 Sangjjangit</p>
</footer>
</body>
</html>